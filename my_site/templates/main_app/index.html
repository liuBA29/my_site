<!-- templates/main_app/index.html -->
{% extends 'base.html' %}
{% load i18n %}

{% block title %}{% trans "Portfolio website of web developer Liubov Kovaleva" %}{% endblock %}
{% block meta_description %}{% if seo_project_names %}{% trans "Portfolio of Liubov Kovaleva: Django developer. Projects:" %} {{ seo_project_names|join:", "|truncatewords:10 }}. {% trans "Technologies:" %} {{ seo_tech_stack|join:", "|truncatewords:8 }}.{% else %}{% trans "Main page of Liubov Kovaleva's web developer portfolio. Python, Django, projects, and useful software." %}{% endif %}{% endblock %}
{% block og_title %}{% trans "Main | Portfolio of Liubov Kovaleva" %}{% endblock %}
{% block og_description %}{% trans "Django web development. Projects, useful utilities, and freelance services by Liubov Kovaleva." %}{% endblock %}

{% block structured_data %}
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "Person",
  "name": "Liubov Kovaleva",
  "alternateName": "LiuBA29",
  "jobTitle": "Web Developer",
  "url": "{{ request.build_absolute_uri }}",
  "email": "luba.sentino@gmail.com",
  "sameAs": [
    "https://t.me/liubakovaleva"
  ],
  "knowsAbout": {% if seo_tech_stack_json %}{{ seo_tech_stack_json|safe }}{% else %}["Python", "Django", "Web Development", "Docker", "PostgreSQL", "Redis", "JavaScript", "HTML5", "CSS3", "n8n"]{% endif %},
  "description": "{% trans "Python & Django web developer. Creating modern web applications with authentication, chat, admin panels, and APIs." %}"
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "WebSite",
  "name": "{% trans "Liubov Kovaleva Portfolio" %}",
  "url": "{{ request.build_absolute_uri }}",
  "description": "{% trans "Portfolio website of web developer Liubov Kovaleva" %}",
  "inLanguage": ["ru", "en"],
  "author": {
    "@type": "Person",
    "name": "Liubov Kovaleva"
  }
}
</script>
{% endblock %}

{% block content %}
  {% if messages %}
  <div class="page-messages">
    {% for message in messages %}
      <div class="page-message {{ message.tags }}">
        {{ message }}
      </div>
    {% endfor %}
  </div>
  {% endif %}

  <div class="section-description">
    <!-- уменьшенный текст и межстрочный интервал на мобильных -->
    <h1 class="seo-heading">{% blocktrans %}Python & Django Web Developer | Liubov Kovaleva{% endblocktrans %}</h1>
    
    <p>{% blocktrans %}Hello! I'm Liubov.{% endblocktrans %}</p>

    <p>{% blocktrans %}I'm a web developer primarily focused on Python, but I also work with JavaScript, Flutter/Dart, and other technologies. You can check out my full tech stack here{% endblocktrans %} {% trans "in the pink frame" %}.</p>

    <div class="tech-stack-box">
      <div class="tech-stack-icons">
        <h3>{% trans "My tech stack" %}</h3>
        <ul class="tech-stack-list">
          <li><i class="fab fa-python"></i> Python & Django (Channels, ASGI, Daphne)</li>
          <li><i class="fab fa-html5"></i> HTML5, CSS3, JavaScript</li>
          <li><i class="fas fa-database"></i> PostgreSQL & Redis</li>
          <li><i class="fab fa-docker"></i> Docker & Docker Compose</li>
          <li><i class="fas fa-cloud-upload-alt"></i> Cloudinary + WhiteNoise</li>
          <li><i class="fas fa-terminal"></i> Bash scripting & Linux terminal</li>
          <li><i class="fab fa-git-alt"></i> Git & GitHub</li>
          <li><i class="fas fa-project-diagram"></i> n8n (workflow automation)</li>
          <li><i class="fas fa-plug"></i> REST API integrations</li>
          <li><i class="fas fa-globe"></i> i18n & django-modeltranslation</li>
          <li><i class="fab fa-telegram-plane"></i> Telegram Bot API integration</li>
          <li><i class="fas fa-server"></i> Gunicorn & Daphne</li>
          <li><i class="fas fa-search"></i> SEO (meta tags, semantic HTML)</li>
          <li><i class="fas fa-google"></i> Google Search API integration</li>
          <li><i class="fas fa-database"></i> Knowledge Base with ChromaDB + SentenceTransformers</li>
        </ul>
      </div>
    </div>

    <h3>{% trans "What I can create:" %}</h3>
    <ul>
      <li>{% trans "AI assistants and Telegram bots" %}</li>
      <li>{% trans "Web applications on Django for browsers" %}</li>
      <li>{% trans "Desktop applications for Windows and Linux" %}</li>
      <li>{% trans "Custom CRM systems for specialized tasks" %}</li>
      <li>{% trans "Bash and Python scripts to automate routine work" %}</li>
      <li>{% trans "Android applications" %}</li>
    </ul>
    <p>{% trans "…and much more to make your processes simpler and save you time on repetitive tasks." %}</p>

    <p>{% blocktrans %}I'm open to collaboration in any professional format — ideas, projects, or unconventional tasks. Feel free to reach out, and we'll discuss how to implement your idea in the simplest and most effective way.{% endblocktrans %}</p>

    <p>{% blocktrans %}By training, I'm a psychologist, which helps me explain complex things in plain language and really listen to my clients. Even if you're not familiar with technical terms, we'll find common ground and turn your idea into a working solution.{% endblocktrans %}</p>

    <p>{% blocktrans %}I look forward to meeting you and working together!{% endblocktrans %}</p>
  </div>

  <style>
    /* H1 для SEO, визуально как обычный текст (безопасно для SEO) */
    .seo-heading {
      font-size: 1rem;
      font-weight: normal;
      margin: 0;
      padding: 0;
      color: inherit;
      line-height: 1.6;
      opacity: 0.01; /* Почти невидим, но технически видим для поисковиков */
      position: absolute;
      left: -9999px; /* Выносим за пределы экрана */
      /* Видим для поисковиков, но не мешает пользователям */
    }

    /* Небольшой отступ справа от текста, чтобы не прилипал к рамочке tech stack */
    .section-description > p:nth-of-type(2) {
      margin-right: 20px;
    }

    @media (max-width: 900px) {
      .section-description > p:nth-of-type(2) {
        margin-right: 0;
      }
    }

    /* Стили для раскрывающегося заголовка */
    .expandable-header {
      position: relative;
      display: block;
      cursor: default;
    }

    .expand-icon {
      color: var(--pink-pink, #FF69B4);
      font-weight: bold;
      font-size: 0.9em;
      cursor: pointer;
      user-select: none;
      margin-left: 5px;
      transition: all 0.3s ease;
      display: inline-block;
      width: 20px;
      text-align: center;
    }

    .expand-icon:hover {
      transform: scale(1.2);
    }

    .expandable-content {
      margin-top: 10px;
      transition: opacity 0.3s ease;
    }

    .page-messages {
      margin: 20px 0;
      text-align: center;
    }

    .page-message {
      padding: 10px 20px;
      border-radius: 10px;
      margin: 10px auto;
      max-width: 600px;
      font-weight: bold;
      font-size: 16px;
      box-shadow: 0 2px 6px rgba(0, 0, 0, 0.1);
    }

    .page-message.success {
      background-color: #d4edda;
      color: #155724;
      border: 1px solid #c3e6cb;
    }

    .page-message.error {
      background-color: #f8d7da;
      color: #721c24;
      border: 1px solid #f5c6cb;
    }

    .page-message.warning {
      background-color: #fff3cd;
      color: #856404;
      border: 1px solid #ffeeba;
    }

    .page-message.info {
      background-color: #d1ecf1;
      color: #0c5460;
      border: 1px solid #bee5eb;
    }
  </style>

  <script>
    function toggleExpandable(icon) {
      const header = icon.closest('.expandable-header');
      const content = header.nextElementSibling;
      
      if (icon.classList.contains('active')) {
        // Сворачиваем - возвращаем плюсик
        icon.classList.remove('active');
        icon.textContent = '+';
        content.style.display = 'none';
      } else {
        // Разворачиваем - меняем на треугольник вершиной вверх
        icon.classList.add('active');
        icon.textContent = '▲';
        content.style.display = 'block';
      }
    }
  </script>
{% endblock %}
